C51 COMPILER V9.60.7.0   3WAYTRAFFIC                                                       08/28/2025 02:40:22 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE 3WAYTRAFFIC
OBJECT MODULE PLACED IN .\Objects\3wayTraffic.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE 3wayTraffic.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\3wayTraffic.lst) TABS(2) OBJECT(.\Objects\3wayTraffic.obj)

line level    source

   1          #include <reg51.h>
   2          
   3          // Traffic Light 1
   4          sbit red1    = P2^0;
   5          sbit yellow1 = P2^1;
   6          sbit green1  = P2^2;
   7          
   8          // Traffic Light 2
   9          sbit red2    = P2^3;
  10          sbit yellow2 = P2^4;
  11          sbit green2  = P2^5;
  12          
  13          // Traffic Light 3
  14          sbit red3    = P2^6;
  15          sbit yellow3 = P2^7;
  16          sbit green3  = P3^0;   // using Port3 pin
  17          
  18          // 10s delay using Timer0
  19          void delay10s() {
  20   1          unsigned int i;
  21   1          TMOD = 0x01; // Timer0 Mode1 (16-bit)
  22   1          for(i = 0; i < 200; i++) {   // 200 * 50ms = 10s
  23   2              TH0 = 0x4C;   
  24   2              TL0 = 0x00;
  25   2              TR0 = 1;    
  26   2              while(TF0 == 0); 
  27   2              TR0 = 0;     
  28   2              TF0 = 0;     
  29   2          }
  30   1      }
  31          
  32          // make all yellow ON
  33          void allYellow() {
  34   1          red1=0; green1=0; yellow1=1;
  35   1          red2=0; green2=0; yellow2=1;
  36   1          red3=0; green3=0; yellow3=1;
  37   1          delay10s();   // all yellow for 10s
  38   1      }
  39          
  40          void main() {
  41   1          // all off initially
  42   1          red1=yellow1=green1=0;
  43   1          red2=yellow2=green2=0;
  44   1          red3=yellow3=green3=0;
  45   1      
  46   1          while(1) {
  47   2              // ---- Light 1 Green, others Red ----
  48   2              red1=0; yellow1=0; green1=1;
  49   2              red2=1; yellow2=0; green2=0;
  50   2              red3=1; yellow3=0; green3=0;
  51   2              delay10s();
  52   2      
  53   2              allYellow();   // <-- ALL yellow phase
  54   2      
C51 COMPILER V9.60.7.0   3WAYTRAFFIC                                                       08/28/2025 02:40:22 PAGE 2   

  55   2              // ---- Light 2 Green, others Red ----
  56   2              red1=1; yellow1=0; green1=0;
  57   2              red2=0; yellow2=0; green2=1;
  58   2              red3=1; yellow3=0; green3=0;
  59   2              delay10s();
  60   2      
  61   2              allYellow();   // <-- ALL yellow phase
  62   2      
  63   2              // ---- Light 3 Green, others Red ----
  64   2              red1=1; yellow1=0; green1=0;
  65   2              red2=1; yellow2=0; green2=0;
  66   2              red3=0; yellow3=0; green3=1;
  67   2              delay10s();
  68   2      
  69   2              allYellow();   // <-- ALL yellow phase
  70   2          }
  71   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    137    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
